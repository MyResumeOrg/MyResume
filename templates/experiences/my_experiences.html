{% extends "global/base.html" %}
{% load static %}
{% block content %}
{% include "partials/_logged_header.html" %}
{% include "partials/_messages.html" %}

<div id="main_container">
{% if hard_skills %}
    <table>
        <thead>
            <caption>Hard Skills</caption>
            <tr>
                <th scope="col">Skill</th>
                <th scope="col">Type Skill</th>
                <th scope="col">Self Avaliation</th>
            </tr>        
        </thead>
        <tbody>
            {% for skill in hard_skills %}
                <tr>
                    <td scope="row">{{ skill.skill }}</td>
                    <td>{{ skill.type_skill }}</td>
                    <td>{{ skill.self_avaliation }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' skill.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="HardSkill">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if soft_skills %}
    <table> 
        <thead>
            <caption>Soft Skills</caption>
            <tr>
                <th scope="col">Skill</th>
            </tr>        
        </thead>
        <tbody>
            {% for skill in soft_skills %}
                <tr>
                    <td scope="row">{{ skill.skill }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' skill.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="SoftSkill">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>                   
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if certifications %}
    <table>
        <thead>
            <caption>Certifications</caption>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Instituition name</th>
                <th scope="col">Instituition link</th>
                <th scope="col">Estimated hours</th>
                <th scope="col">Description</th>
            </tr>        
        </thead>
        <tbody>
            {% for certification in certifications %}
                <tr>
                    <td scope="row">{{ certification.title }}</td>
                    <td>{{ certification.instituition_name }}</td>
                    <td>{{ certification.instituition_link }}</td>
                    <td>{{ certification.estimated_hours }}</td>
                    <td>{{ certification.descritpion }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' certification.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="Certification">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if professional_experiences %}
    <table>
        <thead>
            <caption>Professional experiences</caption>
            <tr>
                <th scope="col">Responsability</th>
                <th scope="col">Organization name</th>
                <th scope="col">Organization link</th>
                <th scope="col">Description</th>
                <th scope="col">Start date</th>
                <th scope="col">End date</th>
            </tr>        
        </thead>
        <tbody>
            {% for experience in professional_experiences %}
                <tr>
                    <td scope="row">{{ experience.responsibility }}</td>
                    <td>{{ experience.organization_name }}</td>
                    <td>{{ experience.organization_name }}</td>
                    <td>{{ experience.description }}</td>
                    <td>{{ experience.start_date }}</td>
                    <td>{{ experience.end_date }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' experience.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="ProfessionalExperience">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if academic_experiences %}
    <table>
        <thead>
            <caption>Academic experiences</caption>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Organization name</th>
                <th scope="col">Organization link</th>
                <th scope="col">Description</th>
                <th scope="col">Start date</th>
                <th scope="col">End date</th>
            </tr>        
        </thead>
        <tbody>
            {% for experience in academic_experiences %}
                <tr>
                    <td scope="row">{{ experience.title }}</td>
                    <td>{{ experience.organization_name }}</td>
                    <td>{{ experience.organization_name }}</td>
                    <td>{{ experience.description }}</td>
                    <td>{{ experience.start_date }}</td>
                    <td>{{ experience.end_date }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' experience.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="AcademicExperience">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if relevant_projects %}
    <table>
        <thead>
            <caption>Relevant projects</caption>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Repository link</th>
                <th scope="col">Project link</th>
            </tr>        
        </thead>
        <tbody>
            {% for project in relevant_projects %}
                <tr>
                    <td scope="row">{{ relevant_projects.title }}</td>            
                    <td>{{ relevant_projects.descritpion }}</td>
                    <td>{{ relevant_projects.repository_link }}</td>
                    <td>{{ relevant_projects.project_link }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' relevant_projects.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="RelevantProject">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if recommendations %}
    <table>
        <thead>
            <caption>Recommendations</caption>
            <tr>
                <th scope="col">Responsible</th>
                <th scope="col">Responsible LinkedIn</th>
                <th scope="col">Recommendation text</th>
            </tr>        
        </thead>
        <tbody>
            {% for recommendation in recommendations %}
                <tr>
                    <td scope="row">{{ recommendation.responsible }}</td>            
                    <td>{{ recommendation.responsible_linkedin }}</td>
                    <td>{{ recommendation.recommendation_text }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' recommendation.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="Recommendation">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if open_source_contribuitions %}
    <table>
        <thead>
            <caption>Open Source contribuitions</caption>
            <tr>
                <th scope="col">Title</th>
                <th scope="col">Description</th>
                <th scope="col">Repository link</th>
                <th scope="col">Project link</th>
                <th scope="col">Solutions commit links</th>
            </tr>        
        </thead>
        <tbody>
            {% for contribuition in open_source_contribuitions %}
                <tr>
                    <td scope="row">{{ contribuition.title }}</td>            
                    <td>{{ contribuition.description }}</td>
                    <td>{{ contribuition.repository_link }}</td>
                    <td>{{ contribuition.project_link }}</td>
                    <td>{{ contribuition.solutions_commit_links }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' contribuition.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="OpenSourceContribuition">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}


{% if languages %}
    <table>
        <thead>
            <caption>Languages</caption>
            <tr>
                <th scope="col">Language</th>
                <th scope="col">Self avaliation</th>
            </tr>        
        </thead>
        <tbody>
            {% for language in languages %}
                <tr>
                    <td scope="row">{{ language.language }}</td>            
                    <td>{{ language.self_avaliation }}</td>
                    <td>
                        <form action="{% url 'delete_experiences' language.id %}" method="post">
                            {% csrf_token %}
                            <input type="hidden" name="model_name" value="Language">
                            <button type="submit"><img src="{% static 'assets/icons/trash-fill.svg' %}" alt="Trash icon"></button>
                        </form>
                    </td>
                </tr>
            {% endfor %}
        </tbody>
    </table>
{% endif %}
</div>

{% include "partials/_footer.html" %}
{% endblock  %}
